"use strict";(self["webpackChunkdaodingword"]=self["webpackChunkdaodingword"]||[]).push([[2315],{10646:function(t,e,r){r.d(e,{H:function(){return a}});var n=r(82933);function a(t,e){var r=t.append("foreignObject").attr("width","100000"),a=r.append("xhtml:div");a.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":a.insert(o);break;case"object":a.insert(function(){return o});break;default:a.html(o)}n.AV(a,e.labelStyle),a.style("display","inline-block"),a.style("white-space","nowrap");var i=a.node().getBoundingClientRect();return r.attr("width",i.width).attr("height",i.height),r}},22315:function(t,e,r){r.d(e,{diagram:function(){return Ct}});var n=r(35860),a=r(697),o=r(26312),i=r(86079),l=r(48585),s=r(23068),d=r(8058),c=r(36028),h=r(82933),u={normal:f,vee:g,undirected:y};function p(t){u=t}function f(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");h.AV(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}function g(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");h.AV(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}function y(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");h.AV(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}var b=r(10646);function w(t,e){var r=t;return r.node().appendChild(e.label),h.AV(r,e.labelStyle),r}function x(t,e){for(var r=t.append("text"),n=v(e.label).split("\n"),a=0;a<n.length;a++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[a]);return h.AV(r,e.labelStyle),r}function v(t){for(var e,r="",n=!1,a=0;a<t.length;++a)if(e=t[a],n){switch(e){case"n":r+="\n";break;default:r+=e}n=!1}else"\\"===e?n=!0:r+=e;return r}function k(t,e,r){var n=e.label,a=t.append("g");"svg"===e.labelType?w(a,e):"string"!==typeof n||"html"===e.labelType?(0,b.H)(a,e):x(a,e);var o,i=a.node().getBBox();switch(r){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-i.height;break;default:o=-i.height/2}return a.attr("transform","translate("+-i.width/2+","+o+")"),a}var m=function(t,e){var r=e.nodes().filter(function(t){return h.De(e,t)}),n=t.selectAll("g.cluster").data(r,function(t){return t});h.c$(n.exit(),e).style("opacity",0).remove();var a=n.enter().append("g").attr("class","cluster").attr("id",function(t){var r=e.node(t);return r.id}).style("opacity",0).each(function(t){var r=e.node(t),n=o.Ltv(this);o.Ltv(this).append("rect");var a=n.append("g").attr("class","label");k(a,r,r.clusterLabelPos)});return n=n.merge(a),n=h.c$(n,e).style("opacity",1),n.selectAll("rect").each(function(t){var r=e.node(t),n=o.Ltv(this);h.AV(n,r.style)}),n};function A(t){m=t}let S=function(t,e){var r,n=t.selectAll("g.edgeLabel").data(e.edges(),function(t){return h.gh(t)}).classed("update",!0);return n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=t.selectAll("g.edgeLabel"),n.each(function(t){var r=o.Ltv(this);r.select(".label").remove();var n=e.edge(t),a=k(r,e.edge(t),0).classed("label",!0),i=a.node().getBBox();n.labelId&&a.attr("id",n.labelId),l.A(n,"width")||(n.width=i.width),l.A(n,"height")||(n.height=i.height)}),r=n.exit?n.exit():n.selectAll(null),h.c$(r,e).style("opacity",0).remove(),n};function _(t){S=t}var L=r(5664),T=r(91395);function $(t,e){return t.intersect(e)}var B=function(t,e,r){var n=t.selectAll("g.edgePath").data(e.edges(),function(t){return h.gh(t)}).classed("update",!0),a=D(n,e);U(n,e);var i=void 0!==n.merge?n.merge(a):n;return h.c$(i,e).style("opacity",1),i.each(function(t){var r=o.Ltv(this),n=e.edge(t);n.elem=this,n.id&&r.attr("id",n.id),h.nh(r,n["class"],(r.classed("update")?"update ":"")+"edgePath")}),i.selectAll("path.path").each(function(t){var r=e.edge(t);r.arrowheadId=L.A("arrowhead");var n=o.Ltv(this).attr("marker-end",function(){return"url("+N(location.href,r.arrowheadId)+")"}).style("fill","none");h.c$(n,e).attr("d",function(t){return E(e,t)}),h.AV(n,r.style)}),i.selectAll("defs *").remove(),i.selectAll("defs").each(function(t){var n=e.edge(t),a=r[n.arrowhead];a(o.Ltv(this),n.arrowheadId,n,"arrowhead")}),i};function C(t){B=t}function N(t,e){var r=t.split("#")[0];return r+"#"+e}function E(t,e){var r=t.edge(e),n=t.node(e.v),a=t.node(e.w),o=r.points.slice(1,r.points.length-1);return o.unshift($(n,o[0])),o.push($(a,o[o.length-1])),I(r,o)}function I(t,e){var r=(o.n8j||o.JWy.line)().x(function(t){return t.x}).y(function(t){return t.y});return(r.curve||r.interpolate)(t.curve),r(e)}function M(t){var e=t.getBBox(),r=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:r.e,y:r.f}}function D(t,e){var r=t.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",function(t){var r=e.edge(t),n=e.node(t.v).elem,a=T.A(r.points.length).map(function(){return M(n)});return I(r,a)}),r.append("defs"),r}function U(t,e){var r=t.exit();h.c$(r,e).style("opacity",0).remove()}var V=r(64670),R=function(t,e,r){var n,a=e.nodes().filter(function(t){return!h.De(e,t)}),i=t.selectAll("g.node").data(a,function(t){return t}).classed("update",!0);return i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=t.selectAll("g.node"),i.each(function(t){var n=e.node(t),a=o.Ltv(this);h.nh(a,n["class"],(a.classed("update")?"update ":"")+"node"),a.select("g.label").remove();var i=a.append("g").attr("class","label"),s=k(i,n),d=r[n.shape],c=V.A(s.node().getBBox(),"width","height");n.elem=this,n.id&&a.attr("id",n.id),n.labelId&&i.attr("id",n.labelId),l.A(n,"width")&&(c.width=n.width),l.A(n,"height")&&(c.height=n.height),c.width+=n.paddingLeft+n.paddingRight,c.height+=n.paddingTop+n.paddingBottom,i.attr("transform","translate("+(n.paddingLeft-n.paddingRight)/2+","+(n.paddingTop-n.paddingBottom)/2+")");var u=o.Ltv(this);u.select(".label-container").remove();var p=d(u,c,n).classed("label-container",!0);h.AV(p,n.style);var f=p.node().getBBox();n.width=f.width,n.height=f.height}),n=i.exit?i.exit():i.selectAll(null),h.c$(n,e).style("opacity",0).remove(),i};function z(t){R=t}function W(t,e){var r=t.filter(function(){return!o.Ltv(this).classed("update")});function n(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}r.attr("transform",n),h.c$(t,e).style("opacity",1).attr("transform",n),h.c$(r.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){var r=e.node(t);return-r.width/2}).attr("y",function(t){var r=e.node(t);return-r.height/2})}function j(t,e){var r=t.filter(function(){return!o.Ltv(this).classed("update")});function n(t){var r=e.edge(t);return l.A(r,"x")?"translate("+r.x+","+r.y+")":""}r.attr("transform",n),h.c$(t,e).style("opacity",1).attr("transform",n)}function P(t,e){var r=t.filter(function(){return!o.Ltv(this).classed("update")});function n(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}r.attr("transform",n),h.c$(t,e).style("opacity",1).attr("transform",n)}function q(t,e,r,n){var a=t.x,o=t.y,i=a-n.x,l=o-n.y,s=Math.sqrt(e*e*l*l+r*r*i*i),d=Math.abs(e*r*i/s);n.x<a&&(d=-d);var c=Math.abs(e*r*l/s);return n.y<o&&(c=-c),{x:a+d,y:o+c}}function H(t,e,r){return q(t,e,e,r)}function O(t,e,r,n){var a,o,i,l,s,d,c,h,u,p,f,g,y,b,w;if(a=e.y-t.y,i=t.x-e.x,s=e.x*t.y-t.x*e.y,u=a*r.x+i*r.y+s,p=a*n.x+i*n.y+s,(0===u||0===p||!X(u,p))&&(o=n.y-r.y,l=r.x-n.x,d=n.x*r.y-r.x*n.y,c=o*t.x+l*t.y+d,h=o*e.x+l*e.y+d,(0===c||0===h||!X(c,h))&&(f=a*l-o*i,0!==f)))return g=Math.abs(f/2),y=i*d-l*s,b=y<0?(y-g)/f:(y+g)/f,y=o*s-a*d,w=y<0?(y-g)/f:(y+g)/f,{x:b,y:w}}function X(t,e){return t*e>0}function Y(t,e,r){var n=t.x,a=t.y,o=[],i=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;e.forEach(function(t){i=Math.min(i,t.x),l=Math.min(l,t.y)});for(var s=n-t.width/2-i,d=a-t.height/2-l,c=0;c<e.length;c++){var h=e[c],u=e[c<e.length-1?c+1:0],p=O(t,r,{x:s+h.x,y:d+h.y},{x:s+u.x,y:d+u.y});p&&o.push(p)}return o.length?(o.length>1&&o.sort(function(t,e){var n=t.x-r.x,a=t.y-r.y,o=Math.sqrt(n*n+a*a),i=e.x-r.x,l=e.y-r.y,s=Math.sqrt(i*i+l*l);return o<s?-1:o===s?0:1}),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function G(t,e){var r,n,a=t.x,o=t.y,i=e.x-a,l=e.y-o,s=t.width/2,d=t.height/2;return Math.abs(l)*s>Math.abs(i)*d?(l<0&&(d=-d),r=0===l?0:d*i/l,n=d):(i<0&&(s=-s),r=s,n=0===i?0:s*l/i),{x:a+r,y:o+n}}var F={rect:J,ellipse:Z,circle:K,diamond:tt};function Q(t){F=t}function J(t,e,r){var n=t.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return r.intersect=function(t){return G(r,t)},n}function Z(t,e,r){var n=e.width/2,a=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",n).attr("ry",a);return r.intersect=function(t){return q(r,n,a,t)},o}function K(t,e,r){var n=Math.max(e.width,e.height)/2,a=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",n);return r.intersect=function(t){return H(r,n,t)},a}function tt(t,e,r){var n=e.width*Math.SQRT2/2,a=e.height*Math.SQRT2/2,o=[{x:0,y:-a},{x:-n,y:0},{x:0,y:a},{x:n,y:0}],i=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" "));return r.intersect=function(t){return Y(r,o,t)},i}function et(){var t=function(t,e){at(e);var r=it(t,"output"),n=it(r,"clusters"),a=it(r,"edgePaths"),o=S(it(r,"edgeLabels"),e),i=R(it(r,"nodes"),e,F);(0,c.Zp)(e),P(i,e),j(o,e),B(a,e,u);var l=m(n,e);W(l,e),ot(e)};return t.createNodes=function(e){return arguments.length?(z(e),t):R},t.createClusters=function(e){return arguments.length?(A(e),t):m},t.createEdgeLabels=function(e){return arguments.length?(_(e),t):S},t.createEdgePaths=function(e){return arguments.length?(C(e),t):B},t.shapes=function(e){return arguments.length?(Q(e),t):F},t.arrows=function(e){return arguments.length?(p(e),t):u},t}var rt={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},nt={arrowhead:"normal",curve:o.lUB};function at(t){t.nodes().forEach(function(e){var r=t.node(e);l.A(r,"label")||t.children(e).length||(r.label=e),l.A(r,"paddingX")&&s.A(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),l.A(r,"paddingY")&&s.A(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),l.A(r,"padding")&&s.A(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),s.A(r,rt),d.A(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){r[t]=Number(r[t])}),l.A(r,"width")&&(r._prevWidth=r.width),l.A(r,"height")&&(r._prevHeight=r.height)}),t.edges().forEach(function(e){var r=t.edge(e);l.A(r,"label")||(r.label=""),s.A(r,nt)})}function ot(t){d.A(t.nodes(),function(e){var r=t.node(e);l.A(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,l.A(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}function it(t,e){var r=t.select("g."+e);return r.empty()&&(r=t.append("g").attr("class",e)),r}var lt=r(35900);r(74353),r(16750),r(42838),r(14075);function st(t,e,r){const n=e.width,a=e.height,o=.9*(n+a),i=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],l=kt(t,o,o,i);return r.intersect=function(t){return Y(r,i,t)},l}function dt(t,e,r){const n=4,a=e.height,o=a/n,i=e.width+2*o,l=[{x:o,y:0},{x:i-o,y:0},{x:i,y:-a/2},{x:i-o,y:-a},{x:o,y:-a},{x:0,y:-a/2}],s=kt(t,i,a,l);return r.intersect=function(t){return Y(r,l,t)},s}function ct(t,e,r){const n=e.width,a=e.height,o=[{x:-a/2,y:0},{x:n,y:0},{x:n,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function ht(t,e,r){const n=e.width,a=e.height,o=[{x:-2*a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function ut(t,e,r){const n=e.width,a=e.height,o=[{x:2*a/6,y:0},{x:n+a/6,y:0},{x:n-2*a/6,y:-a},{x:-a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function pt(t,e,r){const n=e.width,a=e.height,o=[{x:-2*a/6,y:0},{x:n+2*a/6,y:0},{x:n-a/6,y:-a},{x:a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function ft(t,e,r){const n=e.width,a=e.height,o=[{x:a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:-2*a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function gt(t,e,r){const n=e.width,a=e.height,o=[{x:0,y:0},{x:n+a/2,y:0},{x:n,y:-a/2},{x:n+a/2,y:-a},{x:0,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function yt(t,e,r){const n=e.height,a=e.width+n/4,o=t.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-a/2).attr("y",-n/2).attr("width",a).attr("height",n);return r.intersect=function(t){return G(r,t)},o}function bt(t,e,r){const n=e.width,a=e.height,o=[{x:0,y:0},{x:n,y:0},{x:n,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],i=kt(t,n,a,o);return r.intersect=function(t){return Y(r,o,t)},i}function wt(t,e,r){const n=e.width,a=n/2,o=a/(2.5+n/50),i=e.height+o,l="M 0,"+o+" a "+a+","+o+" 0,0,0 "+n+" 0 a "+a+","+o+" 0,0,0 "+-n+" 0 l 0,"+i+" a "+a+","+o+" 0,0,0 "+n+" 0 l 0,"+-i,s=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",l).attr("transform","translate("+-n/2+","+-(i/2+o)+")");return r.intersect=function(t){const e=G(r,t),n=e.x-r.x;if(0!=a&&(Math.abs(n)<r.width/2||Math.abs(n)==r.width/2&&Math.abs(e.y-r.y)>r.height/2-o)){let i=o*o*(1-n*n/(a*a));0!=i&&(i=Math.sqrt(i)),i=o-i,t.y-r.y>0&&(i=-i),e.y+=i}return e},s}function xt(t){t.shapes().question=st,t.shapes().hexagon=dt,t.shapes().stadium=yt,t.shapes().subroutine=bt,t.shapes().cylinder=wt,t.shapes().rect_left_inv_arrow=ct,t.shapes().lean_right=ht,t.shapes().lean_left=ut,t.shapes().trapezoid=pt,t.shapes().inv_trapezoid=ft,t.shapes().rect_right_inv_arrow=gt}function vt(t){t({question:st}),t({hexagon:dt}),t({stadium:yt}),t({subroutine:bt}),t({cylinder:wt}),t({rect_left_inv_arrow:ct}),t({lean_right:ht}),t({lean_left:ut}),t({trapezoid:pt}),t({inv_trapezoid:ft}),t({rect_right_inv_arrow:gt})}function kt(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(t){return t.x+","+t.y}).join(" ")).attr("transform","translate("+-e/2+","+r/2+")")}const mt={addToRender:xt,addToRenderV2:vt},At={},St=function(t){const e=Object.keys(t);for(const r of e)At[r]=t[r]},_t=async function(t,e,r,n,a,l){const s=n?n.select(`[id="${r}"]`):(0,o.Ltv)(`[id="${r}"]`),d=a||document,c=Object.keys(t);for(const o of c){const r=t[o];let n="default";r.classes.length>0&&(n=r.classes.join(" "));const a=(0,i.k)(r.styles);let c,h=void 0!==r.text?r.text:r.id;if((0,i.m)((0,i.c)().flowchart.htmlLabels)){const t={label:await(0,i.r)(h.replace(/fa[blrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`),(0,i.c)())};c=(0,b.H)(s,t).node(),c.parentNode.removeChild(c)}else{const t=d.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",a.labelStyle.replace("color:","fill:"));const e=h.split(i.e.lineBreakRegex);for(const r of e){const e=d.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=r,t.appendChild(e)}c=t}let u=0,p="";switch(r.type){case"round":u=5,p="rect";break;case"square":p="rect";break;case"diamond":p="question";break;case"hexagon":p="hexagon";break;case"odd":p="rect_left_inv_arrow";break;case"lean_right":p="lean_right";break;case"lean_left":p="lean_left";break;case"trapezoid":p="trapezoid";break;case"inv_trapezoid":p="inv_trapezoid";break;case"odd_right":p="rect_left_inv_arrow";break;case"circle":p="circle";break;case"ellipse":p="ellipse";break;case"stadium":p="stadium";break;case"subroutine":p="subroutine";break;case"cylinder":p="cylinder";break;case"group":p="rect";break;default:p="rect"}i.l.warn("Adding node",r.id,r.domId),e.setNode(l.db.lookUpDomId(r.id),{labelType:"svg",labelStyle:a.labelStyle,shape:p,label:c,rx:u,ry:u,class:n,style:a.style,id:l.db.lookUpDomId(r.id)})}},Lt=async function(t,e,r){let n,a,l=0;if(void 0!==t.defaultStyle){const e=(0,i.k)(t.defaultStyle);n=e.style,a=e.labelStyle}for(const s of t){l++;const d="L-"+s.start+"-"+s.end,c="LS-"+s.start,h="LE-"+s.end,u={};"arrow_open"===s.type?u.arrowhead="none":u.arrowhead="normal";let p="",f="";if(void 0!==s.style){const t=(0,i.k)(s.style);p=t.style,f=t.labelStyle}else switch(s.stroke){case"normal":p="fill:none",void 0!==n&&(p=n),void 0!==a&&(f=a);break;case"dotted":p="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":p=" stroke-width: 3.5px;fill:none";break}u.style=p,u.labelStyle=f,void 0!==s.interpolate?u.curve=(0,i.n)(s.interpolate,o.lUB):void 0!==t.defaultInterpolate?u.curve=(0,i.n)(t.defaultInterpolate,o.lUB):u.curve=(0,i.n)(At.curve,o.lUB),void 0===s.text?void 0!==s.style&&(u.arrowheadStyle="fill: #333"):(u.arrowheadStyle="fill: #333",u.labelpos="c",(0,i.m)((0,i.c)().flowchart.htmlLabels)?(u.labelType="html",u.label=`<span id="L-${d}" class="edgeLabel L-${c}' L-${h}" style="${u.labelStyle}">${await(0,i.r)(s.text.replace(/fa[blrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`),(0,i.c)())}</span>`):(u.labelType="text",u.label=s.text.replace(i.e.lineBreakRegex,"\n"),void 0===s.style&&(u.style=u.style||"stroke: #333; stroke-width: 1.5px;fill:none"),u.labelStyle=u.labelStyle.replace("color:","fill:"))),u.id=d,u.class=c+" "+h,u.minlen=s.length||1,e.setEdge(r.db.lookUpDomId(s.start),r.db.lookUpDomId(s.end),u,l)}},Tt=function(t,e){return i.l.info("Extracting classes"),e.db.getClasses()},$t=async function(t,e,r,n){i.l.info("Drawing flowchart");const{securityLevel:l,flowchart:s}=(0,i.c)();let d;"sandbox"===l&&(d=(0,o.Ltv)("#i"+e));const c="sandbox"===l?(0,o.Ltv)(d.nodes()[0].contentDocument.body):(0,o.Ltv)("body"),u="sandbox"===l?d.nodes()[0].contentDocument:document;let p=n.db.getDirection();void 0===p&&(p="TD");const f=s.nodeSpacing||50,g=s.rankSpacing||50,y=new a.T({multigraph:!0,compound:!0}).setGraph({rankdir:p,nodesep:f,ranksep:g,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let b;const w=n.db.getSubGraphs();for(let a=w.length-1;a>=0;a--)b=w[a],n.db.addVertex(b.id,b.title,"group",void 0,b.classes);const x=n.db.getVertices();i.l.warn("Get vertices",x);const v=n.db.getEdges();let k=0;for(k=w.length-1;k>=0;k--){b=w[k],(0,o.Ubm)("cluster").append("text");for(let t=0;t<b.nodes.length;t++)i.l.warn("Setting subgraph",b.nodes[t],n.db.lookUpDomId(b.nodes[t]),n.db.lookUpDomId(b.id)),y.setParent(n.db.lookUpDomId(b.nodes[t]),n.db.lookUpDomId(b.id))}await _t(x,y,e,c,u,n),await Lt(v,y,n);const m=new et;mt.addToRender(m),m.arrows().none=function(t,e,r,n){const a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 0 L 0 0 L 0 0 z");(0,h.AV)(o,r[n+"Style"])},m.arrows().normal=function(t,e){const r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto");r.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const A=c.select(`[id="${e}"]`),S=c.select("#"+e+" g");for(m(S,y),S.selectAll("g.node").attr("title",function(){return n.db.getTooltip(this.id)}),n.db.indexNodes("subGraph"+k),k=0;k<w.length;k++)if(b=w[k],"undefined"!==b.title){const t=u.querySelectorAll("#"+e+' [id="'+n.db.lookUpDomId(b.id)+'"] rect'),r=u.querySelectorAll("#"+e+' [id="'+n.db.lookUpDomId(b.id)+'"]'),a=t[0].x.baseVal.value,i=t[0].y.baseVal.value,l=t[0].width.baseVal.value,s=(0,o.Ltv)(r[0]),d=s.select(".label");d.attr("transform",`translate(${a+l/2}, ${i+14})`),d.attr("id",e+"Text");for(let e=0;e<b.classes.length;e++)r[0].classList.add(b.classes[e])}if(!s.htmlLabels){const t=u.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),r=u.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height),e.insertBefore(r,e.firstChild)}}(0,i.o)(y,A,s.diagramPadding,s.useMaxWidth);const _=Object.keys(x);_.forEach(function(t){const r=x[t];if(r.link){const a=c.select("#"+e+' [id="'+n.db.lookUpDomId(t)+'"]');if(a){const t=u.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",r.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",r.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===l?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):r.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",r.linkTarget);const e=a.insert(function(){return t},":first-child"),n=a.select(".label-container");n&&e.append(function(){return n.node()});const o=a.select(".label");o&&e.append(function(){return o.node()})}}})},Bt={setConf:St,addVertices:_t,addEdges:Lt,getClasses:Tt,draw:$t},Ct={parser:n.p,db:n.f,renderer:lt.f,styles:lt.a,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Bt.setConf(t.flowchart),n.f.clear(),n.f.setGen("gen-1")}}},35900:function(t,e,r){r.d(e,{a:function(){return x},f:function(){return y}});var n=r(697),a=r(26312),o=r(86079),i=r(8995),l=r(10646),s=r(25582),d=r(75937);const c={},h=function(t){const e=Object.keys(t);for(const r of e)c[r]=t[r]},u=async function(t,e,r,n,a,i){const s=n.select(`[id="${r}"]`),d=Object.keys(t);for(const c of d){const r=t[c];let n="default";r.classes.length>0&&(n=r.classes.join(" ")),n+=" flowchart-label";const d=(0,o.k)(r.styles);let h,u=void 0!==r.text?r.text:r.id;if(o.l.info("vertex",r,r.labelType),"markdown"===r.labelType)o.l.info("vertex",r,r.labelType);else if((0,o.m)((0,o.c)().flowchart.htmlLabels)){const t={label:u};h=(0,l.H)(s,t).node(),h.parentNode.removeChild(h)}else{const t=a.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",d.labelStyle.replace("color:","fill:"));const e=u.split(o.e.lineBreakRegex);for(const r of e){const e=a.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=r,t.appendChild(e)}h=t}let p=0,f="";switch(r.type){case"round":p=5,f="rect";break;case"square":f="rect";break;case"diamond":f="question";break;case"hexagon":f="hexagon";break;case"odd":f="rect_left_inv_arrow";break;case"lean_right":f="lean_right";break;case"lean_left":f="lean_left";break;case"trapezoid":f="trapezoid";break;case"inv_trapezoid":f="inv_trapezoid";break;case"odd_right":f="rect_left_inv_arrow";break;case"circle":f="circle";break;case"ellipse":f="ellipse";break;case"stadium":f="stadium";break;case"subroutine":f="subroutine";break;case"cylinder":f="cylinder";break;case"group":f="rect";break;case"doublecircle":f="doublecircle";break;default:f="rect"}const g=await(0,o.r)(u,(0,o.c)());e.setNode(r.id,{labelStyle:d.labelStyle,shape:f,labelText:g,labelType:r.labelType,rx:p,ry:p,class:n,style:d.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:i.db.getTooltip(r.id)||"",domId:i.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:(0,o.c)().flowchart.padding}),o.l.info("setNode",{labelStyle:d.labelStyle,labelType:r.labelType,shape:f,labelText:g,rx:p,ry:p,class:n,style:d.style,id:r.id,domId:i.db.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:(0,o.c)().flowchart.padding})}},p=async function(t,e,r){o.l.info("abc78 edges = ",t);let n,i,l=0,s={};if(void 0!==t.defaultStyle){const e=(0,o.k)(t.defaultStyle);n=e.style,i=e.labelStyle}for(const d of t){l++;const r="L-"+d.start+"-"+d.end;void 0===s[r]?(s[r]=0,o.l.info("abc78 new entry",r,s[r])):(s[r]++,o.l.info("abc78 new entry",r,s[r]));let h=r+"-"+s[r];o.l.info("abc78 new link id to be used is",r,h,s[r]);const u="LS-"+d.start,p="LE-"+d.end,f={style:"",labelStyle:""};switch(f.minlen=d.length||1,"arrow_open"===d.type?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",d.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle";break}let g="",y="";switch(d.stroke){case"normal":g="fill:none;",void 0!==n&&(g=n),void 0!==i&&(y=i),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;";break;case"invisible":f.thickness="invisible",f.pattern="solid",f.style="stroke-width: 0;fill:none;";break}if(void 0!==d.style){const t=(0,o.k)(d.style);g=t.style,y=t.labelStyle}f.style=f.style+=g,f.labelStyle=f.labelStyle+=y,void 0!==d.interpolate?f.curve=(0,o.n)(d.interpolate,a.lUB):void 0!==t.defaultInterpolate?f.curve=(0,o.n)(t.defaultInterpolate,a.lUB):f.curve=(0,o.n)(c.curve,a.lUB),void 0===d.text?void 0!==d.style&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType=d.labelType,f.label=await(0,o.r)(d.text.replace(o.e.lineBreakRegex,"\n"),(0,o.c)()),void 0===d.style&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=h,f.classes="flowchart-link "+u+" "+p,e.setEdge(d.start,d.end,f,l)}},f=function(t,e){return e.db.getClasses()},g=async function(t,e,r,l){o.l.info("Drawing flowchart");let s=l.db.getDirection();void 0===s&&(s="TD");const{securityLevel:d,flowchart:c}=(0,o.c)(),h=c.nodeSpacing||50,f=c.rankSpacing||50;let g;"sandbox"===d&&(g=(0,a.Ltv)("#i"+e));const y="sandbox"===d?(0,a.Ltv)(g.nodes()[0].contentDocument.body):(0,a.Ltv)("body"),b="sandbox"===d?g.nodes()[0].contentDocument:document,w=new n.T({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:h,ranksep:f,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let x;const v=l.db.getSubGraphs();o.l.info("Subgraphs - ",v);for(let n=v.length-1;n>=0;n--)x=v[n],o.l.info("Subgraph - ",x),l.db.addVertex(x.id,{text:x.title,type:x.labelType},"group",void 0,x.classes,x.dir);const k=l.db.getVertices(),m=l.db.getEdges();o.l.info("Edges",m);let A=0;for(A=v.length-1;A>=0;A--){x=v[A],(0,a.Ubm)("cluster").append("text");for(let t=0;t<x.nodes.length;t++)o.l.info("Setting up subgraphs",x.nodes[t],x.id),w.setParent(x.nodes[t],x.id)}await u(k,w,e,y,b,l),await p(m,w);const S=y.select(`[id="${e}"]`),_=y.select("#"+e+" g");if(await(0,i.r)(_,w,["point","circle","cross"],"flowchart",e),o.u.insertTitle(S,"flowchartTitleText",c.titleTopMargin,l.db.getDiagramTitle()),(0,o.o)(w,S,c.diagramPadding,c.useMaxWidth),l.db.indexNodes("subGraph"+A),!c.htmlLabels){const t=b.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),r=b.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height),e.insertBefore(r,e.firstChild)}}const L=Object.keys(k);L.forEach(function(t){const r=k[t];if(r.link){const n=(0,a.Ltv)("#"+e+' [id="'+t+'"]');if(n){const t=b.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",r.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",r.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===d?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):r.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",r.linkTarget);const e=n.insert(function(){return t},":first-child"),a=n.select(".label-container");a&&e.append(function(){return a.node()});const o=n.select(".label");o&&e.append(function(){return o.node()})}}})},y={setConf:h,addVertices:u,addEdges:p,getClasses:f,draw:g},b=(t,e)=>{const r=d.A,n=r(t,"r"),a=r(t,"g"),o=r(t,"b");return s.A(n,a,o,e)},w=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${t.titleColor};\n  }\n\n  .label text,span,p {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .katex path {\n    fill: #000;\n    stroke: #000;\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${b(t.edgeLabelBackground,.5)};\n    // background-color: \n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n`,x=w},75937:function(t,e,r){var n=r(72453),a=r(74886);const o=(t,e)=>n.A.lang.round(a.A.parse(t)[e]);e.A=o},82933:function(t,e,r){r.d(e,{AV:function(){return d},De:function(){return o},c$:function(){return h},gh:function(){return i},nh:function(){return c}});var n=r(89610),a=r(34963);function o(t,e){return!!t.children(e).length}function i(t){return s(t.v)+":"+s(t.w)+":"+s(t.name)}var l=/:/g;function s(t){return t?String(t).replace(l,"\\:"):""}function d(t,e){e&&t.attr("style",e)}function c(t,e,r){e&&t.attr("class",e).attr("class",r+" "+t.attr("class"))}function h(t,e){var r=e.graph();if(a.A(r)){var o=r.transition;if(n.A(o))return o(t)}return t}}}]);
//# sourceMappingURL=2315.60d158c3.js.map